---
driver:
  name: vagrant

provisioner:
  name: chef_zero
  require_chef_omnibus: latest
  http_proxy:
  https_proxy:
  no_proxy:

platforms:
  - name: centos-7.1
    driver:
      box: centos71
      box_url: file:///workdirs/packer/packer_builds/virtualbox/centos-7.1-x86_64/centos-7.1-x86_64_provisionerless.box
  - name: ubuntu-14.04
    driver:
      box: ubuntu1404
      box_url: file:///workdirs/packer/packer_builds/virtualbox/ubuntu-14.04-amd64/ubuntu-14.04-amd64_provisionerless.box
suites:
  - name: rhel_docker-latest
    run_list:
      - role[yum-centos]
      - role[chef_node]
      - recipe[docker-node::service]
    attributes:
      docker-node:
        version: '1.9.0'
        install_method: 'package'
        insecure_registry: nil
        http_proxy: ''
        https_proxy: ''
        no_proxy: ''
    excludes:
      - ubuntu-14.04

  - name: rhel_docker-1.8.3
    run_list:
      - role[yum-centos]
      - role[chef_node]
      - recipe[docker-node::service]
    attributes:
      docker-node:
        version: '1.8.3'
        install_method: 'package'
        insecure_registy: nil
        http_proxy: ''
        https_proxy: ''
        no_proxy: ''
    excludes:
      - ubuntu-14.04

  - name: debian-docker
    run_list:
      - role[apt]
      - role[chef_node]
      - recipe[docker-node::service]
    attributes:
      docker-node:
        version: '1.9.0'
        install_method: 'package'
        insecure_registy: nil
        http_proxy: ''
        https_proxy: ''
        no_proxy: ''
    excludes:
      - centos-7.1

  - name: debian-docker
    run_list:
      - role[apt]
      - role[chef_node]
      - recipe[docker-node::service]
    attributes:
      docker-node:
        version: '1.8.3'
        install_method: 'package'
        insecure_registy: nil
        http_proxy: ''
        https_proxy: ''
        no_proxy: ''
    excludes:
      - centos-7.1
